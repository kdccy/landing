import{b as R,p as ue,o as Y,d as b,f as w,q as fe}from"../chunks/D4NOD6IA.js";import{F as L,r as B,h as F,t as he,aA as ge,d as H,a as _e,f as ve,b as ye,c as be,g as S,Y as X,aB as f,aC as G,p as K,E as p,u as N,J as W,ao as Se,aD as v,aE as we,B as y,X as pe,V as ke,A as Ce}from"../chunks/heQWtz8R.js";import{s as Z,a as Me}from"../chunks/BYBJ_kFd.js";import{i as A}from"../chunks/OtDXAMHT.js";import{p as u,i as V,s as Te,a as P}from"../chunks/XKkRiXao.js";function Ee(o,e,n=!1,t=!1,i=!1){var d=o,s="";L(()=>{var a=he;if(s===(s=e()??"")){B&&F();return}if(a.nodes_start!==null&&(ge(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),s!==""){if(B){H.data;for(var r=F(),l=r;r!==null&&(r.nodeType!==8||r.data!=="");)l=r,r=_e(r);if(r===null)throw ve(),ye;R(H,l),d=be(r);return}var m=s+"";n?m=`<svg>${m}</svg>`:t&&(m=`<math>${m}</math>`);var c=ue(m);if((n||t)&&(c=S(c)),R(S(c),c.lastChild),n||t)for(;S(c);)d.before(S(c));else d.before(c)}})}const Ie=!0,xe=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ie},Symbol.toStringTag,{value:"Module"}));let U,J;function x(o){if(typeof document>"u")return;clearTimeout(U),clearTimeout(J);const e=document.createElement("style"),n=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);e.appendChild(n);const t=()=>document.head.appendChild(e),i=()=>document.head.removeChild(e);if(typeof window.getComputedStyle<"u"){t(),o(),window.getComputedStyle(e).opacity,i();return}if(typeof window.requestAnimationFrame<"u"){t(),o(),window.requestAnimationFrame(i);return}t(),U=window.setTimeout(()=>{o(),J=window.setTimeout(i,120)},120)}function Q(o){return o.filter(e=>e.length>0)}const $={getItem:o=>null,setItem:(o,e)=>{}},_=typeof document<"u",Le=["dark","light","system"],M=f("mode-watcher-mode"),T=f("mode-watcher-theme"),ee=Ae(),E=qe(),te=f(void 0),ne=Ve(),q=f(!0),oe=f([]),re=f([]),Ke=ze(),Ne=De();function Ae(){const o="system",e=_?localStorage:$,n=e.getItem(i());let t=I(n)?n:o;function i(){return X(M)}const{subscribe:d,set:s}=f(t,()=>{if(!_)return;const r=l=>{if(l.key!==i())return;const m=l.newValue;I(m)?s(t=m):s(t=o)};return addEventListener("storage",r),()=>removeEventListener("storage",r)});function a(r){s(t=r),e.setItem(i(),t)}return{subscribe:d,set:a}}function Ve(){const o=_?localStorage:$,e=o.getItem(t());let n=e??"";function t(){return X(T)}const{subscribe:i,set:d}=f(n,()=>{if(!_)return;const a=r=>{if(r.key!==t())return;const l=r.newValue;d(l===null?n="":n=l)};return addEventListener("storage",a),()=>removeEventListener("storage",a)});function s(a){d(n=a),o.setItem(t(),n)}return{subscribe:i,set:s}}function qe(){let e=!0;const{subscribe:n,set:t}=f(void 0,()=>{if(!_)return;const s=r=>{e&&t(r.matches?"light":"dark")},a=window.matchMedia("(prefers-color-scheme: light)");return a.addEventListener("change",s),()=>a.removeEventListener("change",s)});function i(){if(!_)return;const s=window.matchMedia("(prefers-color-scheme: light)");t(s.matches?"light":"dark")}function d(s){e=s}return{subscribe:n,query:i,tracking:d}}function ze(){const{subscribe:o}=G([ee,E,te,q,oe,re],([e,n,t,i,d,s])=>{if(!_)return;const a=e==="system"?n:e,r=Q(d),l=Q(s);function m(){const c=document.documentElement,h=document.querySelector('meta[name="theme-color"]');a==="light"?(r.length&&c.classList.remove(...r),l.length&&c.classList.add(...l),c.style.colorScheme="light",h&&t&&h.setAttribute("content",t.light)):(l.length&&c.classList.remove(...l),r.length&&c.classList.add(...r),c.style.colorScheme="dark",h&&t&&h.setAttribute("content",t.dark))}return i?x(m):m(),a});return{subscribe:o}}function De(){const{subscribe:o}=G([ne,q],([e,n])=>{if(!_)return;function t(){document.documentElement.setAttribute("data-theme",e)}return n?x(t):t(),e});return{subscribe:o}}function I(o){return typeof o!="string"?!1:Le.includes(o)}function Oe(o){ee.set(o)}function je(o){ne.set(o)}function Re({defaultMode:o="system",themeColors:e,darkClassNames:n=["dark"],lightClassNames:t=[],defaultTheme:i="",modeStorageKey:d="mode-watcher-mode",themeStorageKey:s="mode-watcher-theme"}){const a=document.documentElement,r=localStorage.getItem(d)||o,l=localStorage.getItem(s)||i,m=r==="light"||r==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(m?(n.length&&a.classList.remove(...n),t.length&&a.classList.add(...t)):(t.length&&a.classList.remove(...t),n.length&&a.classList.add(...n)),a.style.colorScheme=m?"light":"dark",e){const c=document.querySelector('meta[name="theme-color"]');c&&c.setAttribute("content",r==="light"?e.light:e.dark)}l&&(a.setAttribute("data-theme",l),localStorage.setItem(s,l)),localStorage.setItem(d,r)}var Be=w('<meta name="theme-color"/>');function Fe(o,e){K(e,!1);let n=u(e,"themeColors",24,()=>{});A();var t=Y(),i=p(t);{var d=s=>{var a=Be();L(()=>Z(a,"content",n().dark)),b(s,a)};V(i,s=>{n()&&s(d)})}b(o,t),N()}var He=w('<meta name="theme-color"/>'),Pe=w("<!> <!>",1);function Ue(o,e){K(e,!1);let n=u(e,"trueNonce",8,""),t=u(e,"initConfig",8),i=u(e,"themeColors",24,()=>{});A(),fe(d=>{var s=Pe(),a=p(s);{var r=m=>{var c=He();L(()=>Z(c,"content",i().dark)),b(m,c)};V(a,m=>{i()&&m(r)})}var l=W(a,2);Ee(l,()=>`<script${n()?` nonce=${n()}`:""}>(`+Re.toString()+")("+JSON.stringify(t())+");<\/script>"),b(d,s)}),N()}function Je(o,e){K(e,!1);const[n,t]=Te(),i=()=>P(M,"$modeStorageKeyStore",n),d=()=>P(T,"$themeStorageKeyStore",n),s=ke();let a=u(e,"track",8,!0),r=u(e,"defaultMode",8,"system"),l=u(e,"themeColors",24,()=>{}),m=u(e,"disableTransitions",8,!0),c=u(e,"darkClassNames",24,()=>["dark"]),h=u(e,"lightClassNames",24,()=>[]),z=u(e,"defaultTheme",8,""),D=u(e,"nonce",8,""),k=u(e,"themeStorageKey",8,"mode-watcher-theme"),C=u(e,"modeStorageKey",8,"mode-watcher-mode"),ae=u(e,"disableHeadScriptInjection",8,!1);Se(()=>{const g=Ke.subscribe(()=>{}),de=Ne.subscribe(()=>{});E.tracking(a()),E.query();const j=localStorage.getItem(i());Oe(I(j)?j:r());const me=localStorage.getItem(d());return je(me||z()),()=>{g(),de()}});const se={defaultMode:r(),themeColors:l(),darkClassNames:c(),lightClassNames:h(),defaultTheme:z(),modeStorageKey:C(),themeStorageKey:k()};v(()=>y(m()),()=>{q.set(m())}),v(()=>y(l()),()=>{te.set(l())}),v(()=>y(c()),()=>{oe.set(c())}),v(()=>y(h()),()=>{re.set(h())}),v(()=>y(C()),()=>{M.set(C())}),v(()=>y(k()),()=>{T.set(k())}),v(()=>y(D()),()=>{pe(s,typeof window>"u"?D():"")}),we(),A();var O=Y(),ie=p(O);{var le=g=>{Fe(g,{get themeColors(){return l()}})},ce=g=>{Ue(g,{get trueNonce(){return Ce(s)},initConfig:se,get themeColors(){return l()}})};V(ie,g=>{ae()?g(le):g(ce,!1)})}b(o,O),N(),t()}var Qe=w("<!> <!>",1);function $e(o,e){var n=Qe(),t=p(n);Je(t,{});var i=W(t,2);Me(i,()=>e.children),b(o,n)}export{$e as component,xe as universal};
